<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<ui:composition template="/WEB-INF/template.xhtml">

	<ui:define name="title">Order</ui:define>
	
	<ui:define name="left-menu">
		<ui:include src="/admin/left-menu.xhtml" />
	</ui:define>

	<ui:define name="content">
		
		<h:form>
		<h3 class="page-title"><i class="fa fa-shopping-cart"></i> Order Details - No.<h:outputText value="#{orderAdmin.order.id}" /> <h:commandLink action="#{orderAdmin.save()}" styleClass="btn btn-circle btn-outline-danger pull-right"><i class="fa fa-save"></i></h:commandLink> </h3>
		<hr/>
		
		<div class="row">
			<!-- Customer - Shipping Information -->
			<div class="col-xs-12 col-md-6">
			
				<div class="card">
					
					<div class="card-header">
						<h5 class="card-title">
							<i class="fa fa-user MarRight10"></i> 
							<h:outputText value="#{orderAdmin.order.member.name}" />
						</h5>
					</div>	
					<div class="card-block">
						<div class="row">
							<div class="col-xs-11 offset-xs-1">
								<span ><i class="fa fa-phone"></i> #{orderAdmin.order.delivery.phone}</span><br/>
								<span ><i class="fa fa-envelope"></i> #{orderAdmin.order.member.contact.email} </span><br/>
								<span ><i class="fa fa-send"></i> #{orderAdmin.order.delivery.address}</span><br/>
							</div>
						</div>
						
					</div>
				
				</div>
			
			</div>
	
			<!-- Order Summary - Paid Informations -->
			<div class="col-xs-12 col-md-6">
			
				<div class="card">
					
					<div class="card-header">
						<h5 class="card-title">
							<i class="fa fa-shopping-basket"></i> Order Status
						</h5>
					</div>
					
					<div class="card-block">
						<div class="row">
							<span class="col-xs-4 offset-xs-1">Order Date</span>
							<h:outputText value="#{orderAdmin.order.oderDate}" converter="#{dateConverter}" styleClass="col-xs-7" />
						</div>
						<div class="row">
							<span class="col-xs-4 offset-xs-1">Wish Date</span>
							<h:outputText value="#{orderAdmin.order.wishDate}" converter="#{dateConverter}" styleClass="col-xs-7" />
						</div>
						<div class="row">
							<span class="col-xs-4 offset-xs-1">Status</span>
							<div class="col-xs-7">
								<h:selectOneMenu styleClass="form-control" value="#{orderAdmin.order.status}">
									<f:selectItems value="#{orderStatuses}" var="s" itemLabel="#{s}" itemValue="#{s}"></f:selectItems>
								</h:selectOneMenu>
							</div>
						</div>
					</div>
				
				</div>
			</div>
		</div>
		
		<!-- Order Details -->
		<div class="row">
			<div class="col-xs-12">
				<div class="card">
					
					<div class="card-header">
						<h5 class="card-title">
							<i class="fa fa-shopping-bag"></i> Order Details
						</h5>
					</div>
					
					<div class="card-block">
					
						<table class="table table-sm table-hover">
							<thead>
								<tr>
									<th>Item</th>
									<th class="text-xs-right">Unit Price</th>
									<th class="text-xs-right">Count</th>
									<th class="text-xs-right">Total</th>
								</tr>
							</thead>
							
							<tbody>
								<ui:repeat var="od" value="#{orderAdmin.order.orderList}">
									<tr>
										<td style="width: 50%">
											<div class="row">
												<div class="col-xs-3">
													<h:graphicImage styleClass="img-thumbnail img-fluid" library="image" name="boyTshirt.jpg" />
												</div>
												<div class="col-xs-8">
													<h6>#{od.product.name}</h6>
													<h:outputText value="#{od.product.description}" /><br/>
													<h:outputFormat value="#{od.size}" />
												</div>
											</div>
										</td>
	
										<td class="text-xs-right">#{od.unitPrice}</td>
										<td class="text-xs-right">#{od.count}</td>
										<td class="text-xs-right">#{od.subTotal}</td>
									</tr>
								</ui:repeat>
							</tbody>
							
							<tfoot>
								<tr>
									<td colspan="3" class="text-xs-right">Sub Total</td>
									<td class="text-xs-right">#{orderAdmin.order.subTotal}</td>
								</tr>
								<tr>
									<td colspan="3" class="text-xs-right">Tax</td>
									<td class="text-xs-right">#{orderAdmin.order.tax}</td>
								</tr>
								<tr>
									<td colspan="3" class="text-xs-right">Total</td>
									<td class="text-xs-right">#{orderAdmin.order.total}</td>
								</tr>
							</tfoot>
						</table>
						
					</div>
				
				</div>
			
			</div>
		</div>
		</h:form>
				
	</ui:define>
</ui:composition>
</html>