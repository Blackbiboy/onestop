<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:h="http://java.sun.com/jsf/html">

<ui:composition template="/WEB-INF/template.xhtml">
	<ui:define name="title">Orders</ui:define>

	<ui:define name="left-menu">
		<ui:include src="/admin/left-menu.xhtml" />
	</ui:define>

	<ui:define name="content">
	
		<!-- Page Title -->
		<h3 class="page-title"><i class="fa fa-list"></i> Oder List</h3><hr/>
		
		<!-- Search Panel -->
		<h:form styleClass="form-inline">
			<!-- Status -->
			<h:selectOneMenu value="#{ordersAdminBean.status}" styleClass="form-control" >
				<f:selectItems var="s" value="#{orderStatuses}" itemValue="#{s}" itemLabel="#{s}"></f:selectItems>
			</h:selectOneMenu>
			
			<!-- Date -->
			<div class="form-group">
				<div class="input-group">
					<h:inputText value="#{ordersAdminBean.searchDate}" converter="#{dateConverter}" styleClass="form-control" p:placeholder="Search Date" />
					<span class="input-group-addon">
						<i class="fa fa-calendar"></i>
					</span>			
				</div>
			</div>
			
			<!-- Order Number -->
			<div class="form-group">
				<h:inputText value="#{ordersAdminBean.orderNumber}" styleClass="form-control" p:placeholder="Order Number" />
			</div>
			
			<!-- Search Button -->
			<div class="form-group">
				<h:commandLink action="#{ordersAdminBean.search()}" styleClass="btn btn-outline-danger">
					<i class="fa fa-search"></i> Search
				</h:commandLink>
			</div>
			
		</h:form>
		
		<!-- Order List  -->
		<table class="table table-striped MarTop20">
			<thead class="bg-danger">
				<tr>
					<th>ID</th>
					<th>Customer</th>
					<th>Phone</th>
					<th>Order Date</th>
					<th>Wish Date</th>
					<th>Status</th>
					<th>Sub Total</th>
					<th>Tax</th>
					<th>Total</th>
				</tr>
			</thead>
			
			<tbody>
				<ui:repeat var="od" value="#{ordersAdminBean.orders}">
				<tr>
					<td>
						<h:link value="#{od.id}" outcome="/admin/order">
							<f:param name="id" value="#{od.id}"></f:param>
						</h:link>
					</td>
					<td>#{od.member.name}</td>
					<td>#{od.delivery.phone}</td>
					<td><h:outputText value="#{od.oderDate}" converter="#{dateConverter}" /></td>
					<td><h:outputText value="#{od.wishDate}" converter="#{dateConverter}" /></td>
					<td>#{od.status}</td>
					<td>#{od.subTotal}</td>
					<td>#{od.tax}</td>
					<td>#{od.total}</td>
				</tr>
				</ui:repeat>
			</tbody>
		</table>
		
	</ui:define>
</ui:composition>
</html>